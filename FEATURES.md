# üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ AmneziaWG VPN Server v2.0.0

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ API —Å–µ—Ä–≤–µ—Ä–∞.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
2. [QR –∫–æ–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏](#qr-–∫–æ–¥—ã-–¥–ª—è-–±—ã—Å—Ç—Ä–æ–π-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
3. [–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π](#–ø—Ä–æ—Å–º–æ—Ç—Ä-–∏-—ç–∫—Å–ø–æ—Ä—Ç-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π)
4. [API Endpoints](#api-endpoints)
5. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-–∫–æ–º–∞–Ω–¥–Ω—É—é-—Å—Ç—Ä–æ–∫—É)

---

## –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –û–±–∑–æ—Ä

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –±–∞–∑–µ React + TypeScript —Å –∫—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º –∏ –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN –∫–ª–∏–µ–Ω—Ç–∞–º–∏.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- React 19 —Å TypeScript
- shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Radix UI)
- Tailwind CSS v4
- Tanstack Query –¥–ª—è state management
- –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

<img src="docs/screenshots/dashboard.png" alt="Dashboard" width="600">

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- üé® –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω (—Å–∏–Ω–∏–π ‚Üí –∏–Ω–¥–∏–≥–æ ‚Üí —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- üõ°Ô∏è –õ–æ–≥–æ—Ç–∏–ø AmneziaWG —Å —â–∏—Ç–æ–º
- üìä –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö VPN –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
- üîÑ –ö–Ω–æ–ø–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- ‚ûï –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

#### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

| –î–µ–π—Å—Ç–≤–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| **–î–æ–±–∞–≤–∏—Ç—å** | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ VPN –∫–ª–∏–µ–Ω—Ç–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–ª–∏ —Ä—É—á–Ω—ã–º IP |
| **–£–¥–∞–ª–∏—Ç—å** | –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º |
| **QR –∫–æ–¥** | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| **–ö–æ–Ω—Ñ–∏–≥** | –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö |

#### 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- üë§ **–ò–º—è** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- üåê **IP –∞–¥—Ä–µ—Å** - –∞–¥—Ä–µ—Å –≤ VPN —Å–µ—Ç–∏
- ‚úÖ **–°—Ç–∞—Ç—É—Å** - Active/Inactive (badge)
- üìÖ **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è** - –∫–æ–≥–¥–∞ –±—ã–ª —Å–æ–∑–¥–∞–Ω
- üé¨ **–î–µ–π—Å—Ç–≤–∏—è** - –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Toasts)

–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
- ‚úÖ –£—Å–ø–µ—Ö - –∑–µ–ª–µ–Ω—ã–π badge
- ‚ùå –û—à–∏–±–∫–∞ - –∫—Ä–∞—Å–Ω—ã–π badge
- ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è - —Å–∏–Ω–∏–π badge

---

## QR –∫–æ–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –û–±–∑–æ—Ä

QR –∫–æ–¥—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å VPN –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å     ‚îÇ
‚îÇ   –ö–Ω–æ–ø–∫–∞ "QR –∫–æ–¥"   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   API Request       ‚îÇ
‚îÇ GET /api/clients/   ‚îÇ
‚îÇ     :name/qr        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Backend (Node.js)  ‚îÇ
‚îÇ  1. –ß–∏—Ç–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥   ‚îÇ
‚îÇ  2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR   ‚îÇ
‚îÇ  3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç PNG  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   QR –∫–æ–¥ (base64)   ‚îÇ
‚îÇ  –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤     ‚îÇ
‚îÇ  –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `http://your-server:8080`
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"QR –∫–æ–¥"** (üì± –∏–∫–æ–Ω–∫–∞)
4. QR –∫–æ–¥ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
5. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–°–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- **AmneziaVPN** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - [Android](https://play.google.com/store/apps/details?id=org.amnezia.vpn) | [iOS](https://apps.apple.com/app/amneziavpn/id1600529900)
- **WireGuard** - [Android](https://play.google.com/store/apps/details?id=com.wireguard.android) | [iOS](https://apps.apple.com/app/wireguard/id1441195209)

**–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ AmneziaVPN –∏–ª–∏ WireGuard –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ù–∞–∂–º–∏—Ç–µ "+" ‚Üí "–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR –∫–æ–¥"
4. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥ —Å —ç–∫—Ä–∞–Ω–∞
5. –ì–æ—Ç–æ–≤–æ! –ü–æ–¥–∫–ª—é—á–∞–π—Ç–µ—Å—å –∫ VPN

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API

```bash
# –ü–æ–ª—É—á–∏—Ç—å QR –∫–æ–¥ –∫–∞–∫ data URL (base64)
curl -H "Authorization: Bearer YOUR_API_SECRET" \
     http://your-server:8080/api/clients/john/qr

# –û—Ç–≤–µ—Ç:
{
  "name": "john",
  "qrCode": "data:image/png;base64,iVBORw0KGgoAAAANSUh..."
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å QR –∫–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (ASCII)
make client-qr name=john

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Docker
docker exec amneziawg-server awg-qr show john
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```
‚ñà‚ñà‚ñà‚ñà ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñà ‚ñÑ‚ñÑ‚ñà‚ñÄ‚ñÑ‚ñà ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñà‚ñà‚ñà‚ñà
‚ñà‚ñà‚ñà‚ñà ‚ñà   ‚ñà ‚ñà‚ñÄ‚ñÑ  ‚ñÄ‚ñÑ‚ñà ‚ñà   ‚ñà ‚ñà‚ñà‚ñà‚ñà
‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñà ‚ñà‚ñÄ‚ñÑ‚ñÄ‚ñà ‚ñÑ‚ñà ‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñà ‚ñà‚ñà‚ñà‚ñà
‚ñà‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñà‚ñà‚ñà‚ñà
```

---

## –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ü—Ä–æ—Å–º–æ—Ç—Ä —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ö–æ–Ω—Ñ–∏–≥"** (üìÑ –∏–∫–æ–Ω–∫–∞) –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
2. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. –ù–∞–∂–º–∏—Ç–µ **"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å"** –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```ini
[Interface]
PrivateKey = <–ø—Ä–∏–≤–∞—Ç–Ω—ã–π_–∫–ª—é—á_–∫–ª–∏–µ–Ω—Ç–∞>
Address = 10.13.13.5/32
DNS = 8.8.8.8, 8.8.4.4

[Peer]
PublicKey = <–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á_—Å–µ—Ä–≤–µ—Ä–∞>
PresharedKey = <preshared_key>
Endpoint = 203.0.113.10:51820
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 25

# AmneziaWG Obfuscation Parameters
Jc = 7
Jmin = 50
Jmax = 1000
S1 = 86
S2 = 574
H1 = 1
H2 = 2
H3 = 3
H4 = 4
```

### –≠–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ API

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
curl -H "Authorization: Bearer YOUR_API_SECRET" \
     http://your-server:8080/api/clients/john/config

# –û—Ç–≤–µ—Ç:
{
  "name": "john",
  "config": "[Interface]\nPrivateKey = ...\n..."
}

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
curl -H "Authorization: Bearer YOUR_API_SECRET" \
     http://your-server:8080/api/clients/john/config \
     | jq -r '.config' > john.conf
```

### –≠–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# –í—ã–≤–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
make client-config name=john

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
make client-config name=john > john.conf

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Docker
docker exec amneziawg-server cat /app/clients/john/john.conf
```

### –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ñ–∞–π–ª `client.conf`
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ WireGuard:
   - **Windows**: WireGuard ‚Üí Import tunnel(s) from file
   - **macOS**: WireGuard ‚Üí Import tunnel(s) from file
   - **Linux**: `wg-quick up ./client.conf`

**–ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ AmneziaVPN/WireGuard
3. –ù–∞–∂–º–∏—Ç–µ "+" ‚Üí "–°–æ–∑–¥–∞—Ç—å –∏–∑ —Ñ–∞–π–ª–∞"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## API Endpoints

### –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
|-------|----------|----------|-------------|
| GET | `/api/clients` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| POST | `/api/clients` | –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| DELETE | `/api/clients/:name` | –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| GET | `/api/clients/:name/qr` | QR –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| GET | `/api/clients/:name/config` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| POST | `/api/sync` | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –§–° ‚Üí –ë–î | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

```bash
# –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º IP
curl -X POST \
  -H "Authorization: Bearer YOUR_API_SECRET" \
  -H "Content-Type: application/json" \
  -d '{"name":"alice"}' \
  http://your-server:8080/api/clients

# –° —É–∫–∞–∑–∞–Ω–Ω—ã–º IP
curl -X POST \
  -H "Authorization: Bearer YOUR_API_SECRET" \
  -H "Content-Type: application/json" \
  -d '{"name":"bob","ipAddress":"10.13.13.100"}' \
  http://your-server:8080/api/clients
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

```bash
curl -X DELETE \
  -H "Authorization: Bearer YOUR_API_SECRET" \
  http://your-server:8080/api/clients/alice
```

#### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Å –ë–î
curl -X POST \
  -H "Authorization: Bearer YOUR_API_SECRET" \
  http://your-server:8080/api/sync
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

### Makefile –∫–æ–º–∞–Ω–¥—ã

```bash
# –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π IP)
make client-add name=john

# –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º IP
make client-add name=anna ip=10.13.13.15

# –ü–æ–∫–∞–∑–∞—Ç—å QR –∫–æ–¥
make client-qr name=john

# –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
make client-config name=john

# –£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
make client-rm name=john

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
make client-list

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è—Ö
make client-info
```

### Docker exec –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
docker exec amneziawg-server /app/scripts/manage-clients.sh add john
docker exec amneziawg-server /app/scripts/manage-clients.sh qr john
docker exec amneziawg-server /app/scripts/manage-clients.sh show john
docker exec amneziawg-server /app/scripts/manage-clients.sh remove john
docker exec amneziawg-server /app/scripts/manage-clients.sh list
```

### Awg –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
docker exec amneziawg-server awg show awg0

# –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ handshakes
docker exec amneziawg-server awg show awg0 latest-handshakes

# –ü–æ–ª–Ω—ã–π –¥–∞–º–ø –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
docker exec amneziawg-server awg show awg0 dump
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
make client-add name=john  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –±—ç–∫–∞–ø

# –†—É—á–Ω–æ–π –±—ç–∫–∞–ø
make backup

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10)
make backup-cleanup
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
make status

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
make logs

# Healthcheck
docker exec amneziawg-server /app/scripts/healthcheck.sh
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
docker exec amneziawg-server /app/scripts/diagnose.sh
```

---

## –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:

- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–∫—Ä–∞–Ω–æ–≤
- üëÜ Touch-friendly –∫–Ω–æ–ø–∫–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã
- üìä –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
- üé® –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- üîò –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

---

## –Ø–∑—ã–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–¢–µ–∫—É—â–∏–π —è–∑—ã–∫:** –†—É—Å—Å–∫–∏–π üá∑üá∫

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ:
- –í—Å–µ –Ω–∞–¥–ø–∏—Å–∏ –∏ –∫–Ω–æ–ø–∫–∏
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –î–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-11-23  
**–í–µ—Ä—Å–∏—è:** 2.0.0
